{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Family BookStore</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Cart Sidebar -->
    <div class="overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h2>Shopping Cart (<span id="cartCount">0</span>)</h2>
        <span class="close-btn" id="closeCartBtn">&times;</span>
      </div>
      <div class="cart-items" id="cartItems">
        <p class="empty-cart">Your cart is empty</p>
      </div>
      <div class="cart-footer" id="cartFooter" style="display: none">
        <div class="cart-total">
          <span>Total:</span>
          <span id="cartTotal">₹0.00</span>
        </div>
        <button
          class="checkout-btn"
          onclick="window.location.href='/checkout/'"
        >
          Proceed to Checkout
        </button>
      </div>
    </div>

    <!-- Header -->
    <header>
      <nav class="navbar">
        <div class="nav-logo">
          <div class="logo"></div>
        </div>
        <div class="nav-links">
          <a href="#" class="active" id="homeLink">Home</a>
          <a href="#">Product Categories</a>
          <a href="#">Bulk Purchase</a>
          <a href="#">About Us</a>
          <a href="#">Return & Replacement</a>
          <a href="#">Contact Us</a>
          <a href="#">Terms & Conditions</a>
          <a href="#">Privacy Policy</a>
        </div>
        <div class="nav-icons">
          <div class="search-container">
            <input
              type="text"
              class="search-input"
              placeholder="Search books..."
              id="searchInput"
            />
            <div class="search-btn" id="searchBtn">
              <i class="fa fa-search"></i>
            </div>
            <div id="searchDropdown" class="search-dropdown"></div>
          </div>
          <div class="cart-icon-container" id="cartIcon">
            <i class="fa fa-shopping-cart"></i>
            <span class="cart-count" id="cartCountBadge" style="display: none"
              >0</span
            >
          </div>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="bgimg-section">
      <div class="overlay">
        <h1>Welcome to Family BookStore</h1>
        <p>Discover amazing deals on your favorite reads</p>
      </div>
    </section>

    <!-- Books Categories -->
    <section class="book-categories">
      <div class="category" onclick="location.href='/category/new-arrivals/';">
        <img src="{% static 'images/new-arrivals.png' %}" alt="New Arrivals" />
        <p>NEW ARRIVALS</p>
      </div>
      <div class="category" onclick="location.href='/category/manga-comics/';">
        <img
          src="{% static 'images/manga-comics.png' %}"
          alt="Manga & Comics"
        />
        <p>MANGA & COMICS</p>
      </div>
      <div
        class="category"
        onclick="location.href='/category/most-read-combos/';"
      >
        <img
          src="{% static 'images/most-read-combos.png' %}"
          alt="Most Read Combos"
        />
        <p>MOST READ COMBOS</p>
      </div>
      <div
        class="category"
        onclick="location.href='/category/self-improvements/';"
      >
        <img
          src="{% static 'images/self-improvements.png' %}"
          alt="Self Improvements"
        />
        <p>SELF IMPROVEMENTS</p>
      </div>
      <div class="category" onclick="location.href='/category/romance-sale/';">
        <img
          src="{% static 'images/romance-sale.png' %}"
          alt="Romance On Sale"
        />
        <p>ROMANCE ON SALE</p>
      </div>
      <div class="category" onclick="location.href='/category/hindi-books/';">
        <img src="{% static 'images/hindi-books.png' %}" alt="Hindi Books" />
        <p>HINDI BOOKS</p>
      </div>
      <div
        class="category"
        onclick="location.href='/category/business-stock-market/';"
      >
        <img
          src="{% static 'images/business-stock-market.png' %}"
          alt="Business & Stock-Market"
        />
        <p>BUSINESS & STOCK-MARKET</p>
      </div>
    </section>

    <!-- NEW ARRIVALS -->
    <section class="book-sale">
      <h2 class="section-title">NEW ARRIVALS</h2>
      <div class="book-grid">
        {% for book in new_arrivals_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn1" data-category="new-arrivals">
          View all
        </button>
      </div>
    </section>

    <!-- MANGA & COMICS -->
    <section class="book-sale">
      <h2 class="section-title">MANGA & COMICS</h2>
      <div class="book-grid">
        {% for book in manga_comics_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn2" data-category="manga-comics">
          View all
        </button>
      </div>
    </section>

    <!-- MOST READ COMBOS -->
    <section class="book-sale">
      <h2 class="section-title">MOST READ COMBOS</h2>
      <div class="book-grid">
        {% for book in most_read_combos_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn3" data-category="most-read-combos">
          View all
        </button>
      </div>
    </section>

    <!-- SELF IMPROVEMENTS -->
    <section class="book-sale">
      <h2 class="section-title">SELF IMPROVEMENTS</h2>
      <div class="book-grid">
        {% for book in self_improvements_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <span class="sale-tag">Sale</span>
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn4" data-category="self-improvements">
          View all
        </button>
      </div>
    </section>

    <!-- ROMANCE ON SALE -->
    <section class="book-sale">
      <h2 class="section-title">ROMANCE ON SALE</h2>
      <div class="book-grid">
        {% for book in romance_sale_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <span class="sale-tag">Sale</span>
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn5" data-category="romance-sale">
          View all
        </button>
      </div>
    </section>

    <!-- HINDI BOOKS -->
    <section class="book-sale">
      <h2 class="section-title">HINDI BOOKS</h2>
      <div class="book-grid">
        {% for book in hindi_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button class="view-btn" id="btn6" data-category="hindi-books">
          View all
        </button>
      </div>
    </section>

    <!-- BUSINESS & STOCK-MARKET -->
    <section class="book-sale">
      <h2 class="section-title">BUSINESS & STOCK-MARKET</h2>
      <div class="book-grid">
        {% for book in business_stock_market_books|slice:":10"%}
        <a href="{% url 'book_detail' book.slug %}" class="book-card-link">
          <div class="book-card">
            <img src="{{ book.image.url }}" alt="{{ book.title }}" />
            <h3 class="book-title">{{ book.title }}</h3>
            {% if book.old_price %}
            <p class="price">
              <span class="old">Rs. {{ book.old_price }}</span> Rs. {{ book.price }}
            </p>
            {% else %}
            <p class="price">Rs. {{ book.price }}</p>
            {% endif %}
            <button
              class="cart-btn add-to-cart-btn"
              data-id="{{ book.id }}"
              data-type="book"
              data-title="{{ book.title|escapejs }}"
              data-price="{{ book.price }}"
              data-image="{{ book.image.url }}"
            >
              Add to cart
            </button>
          </div>
        </a>
        {% empty %}
        <p style="text-align: center">No books available right now.</p>
        {% endfor %}
      </div>
      <div class="view-all">
        <button
          class="view-btn"
          id="btn7"
          data-category="business-stock-market"
        >
          View all
        </button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-section">
          <h3>Follow us on Social Media</h3>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="/aboutus/">About Us</a></li>
            <li><a href="/contactinformation/">Contact Us</a></li>
            <li><a href="#">Bulk Purchase</a></li>
            <li><a href="#">Return & Replacement</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-section about">
          <h3>About the Shop</h3>
          <p>
            We’re a family-run bookstore offering the best deals on your
            favorite titles.
          </p>
          <img
            src="{% static 'images/logo.png' %}"
            alt="Family BookStore Logo"
            class="footer-logo"
          />
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2025, Family Book Store</p>
        <div class="payment-icons">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png "
            alt="Visa"
          />
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png "
            alt="MasterCard"
          />
        </div>
      </div>
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/cart.js' %}"></script>
  </body>
</html>
